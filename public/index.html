<!DOCTYPE html>
<html lang="en">

<head>
  <title>Express File Upload</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link rel="stylesheet" href="./styles/style.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>

<body>
  <div class="container text-center">
    <div class="col-sm-12">
      <div class="form">
        <h1>Upload Job Description</h1>
        <!-- IMAGE UPLOAD FORM -->
        <form action="/upload" enctype="multipart/form-data" method="POST">
          <div class="section">Note: Only doc, docx and pdf files are allowed.</div>
          <div class="inner-wrap">
            <div style="display: inline-flex">
              <input class="custom-file-input" id="file" type="file" id="photo" name="file-to-upload" size="60" required />
              <button class="btn btn-danger" type="reset" id="reset">X</button>
            </div>
            <p id="upl-sta" style="display: none">Format not valid</p>
            <div class="button-section">
              <input type="submit" name="Upload" value="Upload" id="submit-button" />
            </div>
          </div>
      </div>
      </form>
    </div>
  </div>
  </div>
  <script>

    document.getElementById("file").addEventListener("change", function (e) {
      var doc = e.target.value.endsWith(".doc");
      var docx = e.target.value.endsWith(".docx");
      var pdf = e.target.value.endsWith(".pdf");

      if (doc || docx || pdf) {
        document.getElementById("upl-sta").style.display = "none";
        console.log('valid');

      } else {
        document.getElementById("upl-sta").style.display = "block";
        console.log('format no valid');
      }
    });

    document.getElementById("reset").addEventListener("click", function (e) {
      document.getElementById("upl-sta").style.display = "none";
    })

  </script>
</body>

</html>